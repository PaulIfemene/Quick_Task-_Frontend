<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Jobs - Job Listing Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#14B8A6',
                        accent: '#F97316',
                        success: '#10B981',
                        warning: '#F59E0B',
                        error: '#EF4444'
                    }
                }
            }
        }
    </script>
    <style>
        .job-card {
            transition: all 0.3s ease;
        }
        .job-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .details-content.expanded {
            max-height: 300px;
        }
        .filter-dropdown {
            transition: all 0.2s ease;
        }
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Page Heading -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Browse Jobs</h1>
            <p class="text-gray-600">Find your perfect job opportunity</p>
        </div>

        <!-- Search Bar -->
        <div class="relative mb-8 max-w-2xl mx-auto">
            <div class="relative">
                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input 
                    type="text" 
                    id="searchInput"
                    placeholder="Search for jobs, companies, or skills..."
                    class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent search-input"
                    oninput="filterJobs()"
                />
            </div>
        </div>

        <!-- Filter Section and Saved Jobs -->
        <div class="flex flex-col lg:flex-row justify-between items-center gap-4 mb-8">
            <div class="flex flex-wrap gap-4 items-center">
                <!-- Job Type Filter -->
                <div class="relative">
                    <select id="jobTypeFilter" class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-primary filter-dropdown" onchange="filterJobs()">
                        <option value="">All Job Types</option>
                        <option value="Remote">Remote</option>
                        <option value="Full-time">Full-time</option>
                        <option value="Part-time">Part-time</option>
                        <option value="Hybrid">Hybrid</option>
                    </select>
                    <svg class="absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>

                <!-- Location Filter -->
                <div class="relative">
                    <select id="locationFilter" class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-primary filter-dropdown" onchange="filterJobs()">
                        <option value="">All Locations</option>
                        <option value="Kampala">Kampala</option>
                        <option value="Entebbe">Entebbe</option>
                        <option value="Jinja">Jinja</option>
                        <option value="Remote">Remote</option>
                    </select>
                    <svg class="absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>

                <!-- Price Range Filter -->
                <div class="relative">
                    <select id="priceFilter" class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-primary filter-dropdown" onchange="filterJobs()">
                        <option value="">All Price Ranges</option>
                        <option value="0-50000">UGX 0 - 50,000</option>
                        <option value="50000-100000">UGX 50,000 - 100,000</option>
                        <option value="100000-200000">UGX 100,000 - 200,000</option>
                        <option value="200000+">UGX 200,000+</option>
                    </select>
                    <svg class="absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
            </div>

            <!-- Saved Jobs Icon -->
            <button onclick="toggleSavedJobs()" class="bg-white border border-gray-300 rounded-lg px-4 py-2 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-2">
                <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
                <span class="text-sm font-medium">Saved Jobs</span>
                <span id="savedCount" class="bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full">0</span>
            </button>
        </div>

        <!-- Job Listings -->
        <div id="jobListings" class="space-y-6">
            <!-- Job listings will be dynamically generated here -->
        </div>

        <!-- No Results Message -->
        <div id="noResults" class="text-center py-12 hidden">
            <div class="text-gray-400 text-6xl mb-4">üîç</div>
            <h3 class="text-xl font-semibold text-gray-600 mb-2">No jobs found</h3>
            <p class="text-gray-500">Try adjusting your search criteria or filters</p>
        </div>
    </div>

    <script>
        // Job data
        const jobsData = [
            {
                id: 1,
                title: "Senior Frontend Developer",
                poster: "TechCorp Uganda",
                profilePic: "https://images.pexels.com/photos/3825540/pexels-photo-3825540.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "3 hours ago",
                price: "UGX 250,000",
                dueDate: "Due by July 18",
                location: "Kampala",
                jobType: "Full-time",
                applicants: 12,
                views: 58,
                description: "We are looking for a skilled Frontend Developer to join our dynamic team. The ideal candidate should have experience with React, TypeScript, and modern CSS frameworks. You'll be responsible for creating responsive, user-friendly interfaces and collaborating with our backend team to deliver exceptional web applications.",
                requirements: ["3+ years React experience", "TypeScript proficiency", "CSS/Tailwind expertise", "Git version control"]
            },
            {
                id: 2,
                title: "Digital Marketing Specialist",
                poster: "Creative Agency",
                profilePic: "https://images.pexels.com/photos/3748221/pexels-photo-3748221.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "1 day ago",
                price: "UGX 180,000",
                dueDate: "Due by July 20",
                location: "Entebbe",
                jobType: "Remote",
                applicants: 8,
                views: 34,
                description: "Join our creative team as a Digital Marketing Specialist. You'll develop and execute comprehensive marketing strategies across multiple digital channels, analyze campaign performance, and drive brand awareness for our clients.",
                requirements: ["2+ years digital marketing", "Google Ads certified", "Social media expertise", "Analytics tools knowledge"]
            },
            {
                id: 3,
                title: "Data Analyst",
                poster: "DataTech Solutions",
                profilePic: "https://images.pexels.com/photos/3182773/pexels-photo-3182773.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "2 days ago",
                price: "UGX 200,000",
                dueDate: "Due by July 22",
                location: "Jinja",
                jobType: "Hybrid",
                applicants: 15,
                views: 67,
                description: "We're seeking a detail-oriented Data Analyst to transform raw data into actionable insights. You'll work with large datasets, create visualizations, and provide recommendations that drive business decisions.",
                requirements: ["SQL proficiency", "Python/R experience", "Data visualization tools", "Statistical analysis skills"]
            },
            {
                id: 4,
                title: "Mobile App Developer",
                poster: "InnovateMobile",
                profilePic: "https://images.pexels.com/photos/3823488/pexels-photo-3823488.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "5 hours ago",
                price: "UGX 300,000",
                dueDate: "Due by July 25",
                location: "Remote",
                jobType: "Remote",
                applicants: 23,
                views: 89,
                description: "Join our mobile development team to create cutting-edge iOS and Android applications. You'll work on exciting projects using Flutter and React Native, collaborating with designers and backend developers to deliver exceptional mobile experiences.",
                requirements: ["Flutter/React Native", "Mobile UI/UX principles", "API integration", "App store deployment"]
            },
            {
                id: 5,
                title: "Content Writer",
                poster: "MediaWorks",
                profilePic: "https://images.pexels.com/photos/3760263/pexels-photo-3760263.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "1 week ago",
                price: "UGX 120,000",
                dueDate: "Due by July 15",
                location: "Kampala",
                jobType: "Part-time",
                applicants: 7,
                views: 28,
                description: "We're looking for a creative Content Writer to produce engaging content for our blog, social media, and marketing materials. You'll research topics, write compelling copy, and help maintain our brand voice across all platforms.",
                requirements: ["Excellent writing skills", "SEO knowledge", "Content management systems", "Social media understanding"]
            },
            {
                id: 6,
                title: "UX/UI Designer",
                poster: "DesignStudio Pro",
                profilePic: "https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop",
                timePosted: "4 days ago",
                price: "UGX 220,000",
                dueDate: "Due by July 28",
                location: "Kampala",
                jobType: "Full-time",
                applicants: 18,
                views: 72,
                description: "Join our design team to create intuitive and visually appealing user experiences. You'll work on web and mobile applications, conduct user research, create wireframes and prototypes, and collaborate closely with developers.",
                requirements: ["Figma/Sketch proficiency", "User research experience", "Prototyping skills", "Design system knowledge"]
            }
        ];

        let savedJobs = [];
        let filteredJobs = jobsData;

        // Initialize the page
        function init() {
            renderJobs(jobsData);
            updateSavedCount();
        }

        // Render jobs
        function renderJobs(jobs) {
            const jobListings = document.getElementById('jobListings');
            const noResults = document.getElementById('noResults');
            
            if (jobs.length === 0) {
                jobListings.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            }
            
            noResults.classList.add('hidden');
            
            jobListings.innerHTML = jobs.map(job => `
                <div class="job-card bg-white rounded-lg shadow-md border border-gray-200 p-6 hover:shadow-lg transition-all duration-300" data-job-id="${job.id}">
                    <div class="flex flex-col lg:flex-row gap-4">
                        <!-- Profile Picture -->
                        <div class="flex-shrink-0">
                            <img src="${job.profilePic}" alt="${job.poster}" class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                        </div>
                        
                        <!-- Job Details -->
                        <div class="flex-1">
                            <div class="flex justify-between items-start mb-3">
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800 mb-1">${job.title}</h3>
                                    <p class="text-gray-600 font-medium">${job.poster}</p>
                                </div>
                                <button onclick="shareJob(${job.id})" class="text-gray-400 hover:text-primary transition-colors p-1">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                                    </svg>
                                </button>
                            </div>
                            
                            <div class="flex flex-wrap gap-4 text-sm text-gray-600 mb-4">
                                <span class="flex items-center gap-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    ${job.timePosted}
                                </span>
                                <span class="flex items-center gap-1 text-primary font-semibold">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                    </svg>
                                    ${job.price}
                                </span>
                                <span class="flex items-center gap-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    ${job.dueDate}
                                </span>
                                <span class="flex items-center gap-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    ${job.location}
                                </span>
                            </div>
                            
                            <div class="flex flex-wrap items-center gap-4 mb-4">
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary">
                                    ${job.jobType}
                                </span>
                                <span class="flex items-center gap-1 text-sm text-gray-500">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                    </svg>
                                    ${job.applicants} Applicants
                                </span>
                                <span class="flex items-center gap-1 text-sm text-gray-500">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                    </svg>
                                    ${job.views} Views
                                </span>
                            </div>
                            
                            <div class="flex gap-3">
                                <button onclick="toggleDetails(${job.id})" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium">
                                    View Details
                                </button>
                                <button onclick="toggleSaveJob(${job.id})" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium flex items-center gap-2">
                                    <svg class="w-4 h-4 ${savedJobs.includes(job.id) ? 'text-red-500 fill-current' : ''}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                    </svg>
                                    ${savedJobs.includes(job.id) ? 'Saved' : 'Save'}
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Job Details Dropdown -->
                    <div id="details-${job.id}" class="details-content mt-6 pt-6 border-t border-gray-200">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Job Description</h4>
                        <p class="text-gray-600 mb-4">${job.description}</p>
                        <h5 class="text-md font-semibold text-gray-800 mb-2">Requirements</h5>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            ${job.requirements.map(req => `<li>${req}</li>`).join('')}
                        </ul>
                        <div class="mt-4 flex gap-3">
                            <button class="bg-success text-white px-6 py-2 rounded-lg hover:bg-success/90 transition-colors font-medium">
                                Apply Now
                            </button>
                            <button class="border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                                Contact Employer
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Toggle job details
        function toggleDetails(jobId) {
            const detailsElement = document.getElementById(`details-${jobId}`);
            const button = event.target;
            
            if (detailsElement.classList.contains('expanded')) {
                detailsElement.classList.remove('expanded');
                button.textContent = 'View Details';
            } else {
                detailsElement.classList.add('expanded');
                button.textContent = 'Hide Details';
            }
        }

        // Toggle save job
        function toggleSaveJob(jobId) {
            const index = savedJobs.indexOf(jobId);
            if (index > -1) {
                savedJobs.splice(index, 1);
            } else {
                savedJobs.push(jobId);
            }
            updateSavedCount();
            renderJobs(filteredJobs);
        }

        // Update saved count
        function updateSavedCount() {
            document.getElementById('savedCount').textContent = savedJobs.length;
        }

        // Share job
        function shareJob(jobId) {
            const job = jobsData.find(j => j.id === jobId);
            if (navigator.share) {
                navigator.share({
                    title: job.title,
                    text: `Check out this job opportunity: ${job.title} at ${job.poster}`,
                    url: window.location.href
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const url = `${window.location.href}?job=${jobId}`;
                navigator.clipboard.writeText(url).then(() => {
                    alert('Job link copied to clipboard!');
                });
            }
        }

        // Filter jobs
        function filterJobs() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const jobType = document.getElementById('jobTypeFilter').value;
            const location = document.getElementById('locationFilter').value;
            const priceRange = document.getElementById('priceFilter').value;
            
            filteredJobs = jobsData.filter(job => {
                const matchesSearch = job.title.toLowerCase().includes(searchTerm) ||
                                    job.poster.toLowerCase().includes(searchTerm) ||
                                    job.description.toLowerCase().includes(searchTerm);
                
                const matchesJobType = !jobType || job.jobType === jobType;
                const matchesLocation = !location || job.location === location;
                
                let matchesPrice = true;
                if (priceRange) {
                    const jobPrice = parseInt(job.price.replace(/[^0-9]/g, ''));
                    if (priceRange === '0-50000') {
                        matchesPrice = jobPrice <= 50000;
                    } else if (priceRange === '50000-100000') {
                        matchesPrice = jobPrice > 50000 && jobPrice <= 100000;
                    } else if (priceRange === '100000-200000') {
                        matchesPrice = jobPrice > 100000 && jobPrice <= 200000;
                    } else if (priceRange === '200000+') {
                        matchesPrice = jobPrice > 200000;
                    }
                }
                
                return matchesSearch && matchesJobType && matchesLocation && matchesPrice;
            });
            
            renderJobs(filteredJobs);
        }

        // Toggle saved jobs view
        function toggleSavedJobs() {
            const savedJobsData = jobsData.filter(job => savedJobs.includes(job.id));
            if (savedJobsData.length === 0) {
                alert('No saved jobs yet! Save some jobs to view them here.');
                return;
            }
            
            const isShowingSaved = document.getElementById('jobListings').getAttribute('data-showing-saved') === 'true';
            
            if (isShowingSaved) {
                renderJobs(filteredJobs);
                document.getElementById('jobListings').setAttribute('data-showing-saved', 'false');
            } else {
                renderJobs(savedJobsData);
                document.getElementById('jobListings').setAttribute('data-showing-saved', 'true');
            }
        }

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>